## 1. κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ™€ μ¤ν”„λ§
### 1-1. μ¤ν”„λ§μ΄λ€?
![](attachment/2cccd3e59fab8683687c9569581c29dc.png)
**μ¤ν”„λ§ ν”„λ μ„μ›ν¬** - μ¤ν”„λ§μ ν•µμ‹¬ κΈ°μ μ„ ν¬ν•¨ν•λ” ν”„λ μ„μ›ν¬
**μ¤ν”„λ§ λ¶€νΈ** - μ¤ν”„λ§μ μ„¤μ •μ„ νΈν•κ² ν•΄μ£Όλ” ν”„λ μ„μ›ν¬
μ¤ν”„λ§μ€ μλ°” μ–Έμ–΄κΈ°λ°μ ν”„λ μ„μ›ν¬ + μλ°” μ–Έμ–΄μ κ°€μ¥ ν° νΉμ§• β€κ°μ²΄μ§€ν–¥β€ β†’ κ°μ²΄ μ§€ν–¥ μ–Έμ–΄κ°€ κ°€μ§„ νΉμ§•μ„ μ‚΄λ ¤λ‚΄λ” ν”„λ μ„μ›ν¬
**κ°μ²΄μ§€ν–¥ ν”„λ΅κ·Έλλ°μ μ¥μ **
- μ—­ν• κ³Ό κµ¬ν„μΌλ΅ κµ¬λ¶„ν•λ©΄ λ‹¨μν•΄μ§€κ³  μ μ—°ν•΄μ§€λ©° λ³€κ²½μ΄ νΈλ¦¬ν•λ‹¤.
    - ν΄λΌμ΄μ–ΈνΈλ” μΈν„°νμ΄μ¤λ§ μ•λ©΄λλ‹¤.
    - ν΄λΌμ΄μ–ΈνΈλ” λ‚΄λ¶€κµ¬μ΅°λ¥Ό λ°λΌλ„ λκ³  λ³€κ²½λμ–΄λ„ μν–¥μ„ λ°›μ§€μ•λ”λ‹¤.
**μ¤ν”„λ§κ³Ό κ°μ²΄ μ§€ν–¥**
- λ‹¤ν•μ„±μ΄ κ°€μ¥ μ¤‘μ”ν•λ‹¤. μ¤ν”„λ§μ€ μ΄κ±Έ κ·Ήλ€ν™” μ‹ν‚΄.
- μ μ–΄μ μ—­μ „ (IoC), μμ΅΄κ΄€κ³„ μ£Όμ…(DI) λ“±μ„ μ κ³µν•¨.
### **1-2. μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™(SOLID)**
- SRP λ‹¨μΌ μ±…μ„ μ›μΉ™
    - ν•λ‚μ ν΄λμ¤λ” ν•λ‚μ μ±…μ„λ§ κ°€μ Έμ•Όν•λ‹¤.
    - ν•λ‚μ μ±…μ„μ΄λΌλ” κ²ƒμ€ λ¨νΈν•λ‹¤ β†’ μ¤‘μ”ν• κΈ°μ¤€μ€ λ³€κ²½μ΄
        - λ³€κ²½μ΄ μμ„ λ• νκΈ‰ ν¨κ³Όκ°€ μ μΌλ©΄ λ‹¨μΌ μ±…μ„ μ›μΉ™μ„ μ λ”°λ¥Έ κ²ƒ
- OCP κ°λ°©-νμ‡„ μ›μΉ™
    
    - μ†ν”„νΈμ›¨μ–΄ μ”μ†λ” ν™•μ¥μ—λ” μ—΄λ ¤μμΌλ‚ λ³€κ²½μ—λ” λ‹«ν€μμ–΄μ•Όν•λ‹¤.
    - μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• μƒλ΅μ΄ ν΄λμ¤λ¥Ό λ§λ“λ” κ²ƒμ€, κΈ°μ΅΄μ μ½”λ“λ¥Ό λ³€κ²½ν•λ”κ² μ•„λ‹λ‹¤ !! ==β† μ΄κ±Έ μ§€ν–¥ν•μ.==
    - κ·Όλ° κ·ΈλΌ ν΄λΌμ΄μ–ΈνΈμ—μ„ μ–΄μ¨‹λ“  μƒλ΅ μ§  ν΄λμ¤λ¥Ό μ„ νƒ(μƒλ΅μ΄ κµ¬ν„μ²΄λ΅ λ³€κ²½)ν•΄μ•Όλλ‹κΉ μ½”λ“ λ³€κ²½μ΄ μμ§€μ•λƒ?
    
    β†’ κ°μ²΄λ¥Ό μƒμ„±ν•κ³ , μ—°κ΄€κ΄€κ³„λ¥Ό λ§Ίμ–΄μ£Όλ” μ„¤μ •μκ°€ ν•„μ” : springμ΄ μ κ³µν•λ‹¤ (spring container)
    
- LSP λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™
    - λ‹¤ν•μ„±μ—μ„ ν•μ„ ν΄λμ¤λ” μΈν„°νμ΄μ¤κ°€ μ„Έμ΄ μ›μΉ™μ„ λ”°λΌμ•Όν•λ‹¤.
- ISP μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™
    - νΉμ • ν΄λΌμ΄μ–ΈνΈλ¥Ό μ„ν• μ—¬λ¬κ°μ μΈν„°νμ΄μ¤κ°€ λ²”μ© μΈν„°νμ΄μ¤ ν•λ‚λ³΄λ‹¤ λ‚«λ‹¤.
- DIP μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™
    - ν”„λ΅κ·Έλλ¨Έλ” β€μ¶”μƒν™”μ— μμ΅΄ν•΄μ•Όμ§€, κµ¬μ²΄ν™”μ— μμ΅΄ν•λ©΄ μ•λλ‹¤β€ == κµ¬ν„ ν΄λμ¤μ— μμ΅΄ν•μ§€ λ§κ³  μΈν„°νμ΄μ¤μ— μμ΅΄ν•΄λΌ
    - ν΄λΌμ΄μ–ΈνΈκ°€ κµ¬ν„ ν΄λμ¤λ¥Ό μ„ νƒν•λ” λ°©μ‹μ€ ==**DIPλ¥Ό μ„λ°**==ν•λ” κ²ƒμ΄λ‹¤.
  
κ¶κ·Ήμ μΌλ΅λ” λ¨λ‘ μΈν„°νμ΄μ¤λ¥Ό λ„μ…ν•λ”κ² μΆ‹μ§€λ§, μ¶”μƒν™”λΌλ” λΉ„μ©μ΄ λ°μƒν•λ‹¤.
β†’ κΈ°λ¥μ΄ ν™•μ¥ν•  κ°€λ¥μ„±μ΄ μ—†λ‹¤λ©΄ λ°”λ΅ κµ¬μ²΄ ν΄λμ¤λ¥Ό κ°λ°ν•κ³ , ν–¥ν›„ κΌ­ ν•„μ”ν•  λ• λ¦¬ν™ν„°λ§ν•΄μ„ λ„μ…ν•λ” κ²ƒλ„ λ°©λ²•μ΄λ‹¤.
### 1-3. SOLID μ›μΉ™μ μ μ© λ° κ°μ²΄μ§€ν–¥ ν”„λ΅κ·Έλλ°
λ§μ•½ κΈ°ν or κ°λ°μ΄ λ³€κ²½λμ–΄μ„ κ°™μ€ μΈν„°νμ΄μ¤μ§€λ§ κµ¬ν„μ²΄λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ‹¤λ©΄ λ‹¤μκ³Ό κ°™μ΄ ν•  μ μλ‹¤.
```Java
// private final DiscountPolicy discountPolicy = new FixDiscountPolicy();
private final DiscountPolicy discountPolicy = new RateDiscountPolicy();
```
μ΄λ° ν”„λ΅κ·Έλλ°μ€ κ²°κµ­ DIP μ›μΉ™κ³Ό OCP μ›μΉ™μ΄ κΉ¨μ§€λ” κ³„κΈ°κ°€ λ¨.
β†’ ==DIPκ°€ κΉ¨μ§„ μ΄μ == : μ¶”μƒν™” (μΈν„°νμ΄μ¤)μ—λ„ μμ΅΄ν•μ§€λ§ κµ¬ν„μ²΄ (ν΄λμ¤)μ—λ„ μμ΅΄ν•κ³  μμ
β†’ ==OCPκ°€ κΉ¨μ§„ μ΄μ == : Serviceμ κΈ°λ¥μ΄ λ°”λ€κ² μ•„λ‹λ° μ½”λ“λ¥Ό μμ •ν•΄μ•Όλ¨. μƒλ΅μ΄ κµ¬ν„μ²΄λ¥Ό μ£Όμ…ν•κΈ°λ•λ¬Έμ—
λ”°λΌμ„ μ΄λ° κ²½μ°μ—λ” μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ„λ΅ μ½”λ“λ¥Ό λ³€κ²½ν•΄μ¤μ•Ό ν•λ©°, λ„κµ°κ°€ κ°μ²΄λ¥Ό λ§λ“¤μ–΄μ„ κΈ°μ΅΄ν΄λμ¤μ— μ£Όμ…ν•΄μ¤μ•Όν•λ‹¤.
**πΒ λ¬Έμ ν•΄κ²° λ°©λ²•**
`**AppConfig.java**` νμΌμ„ λ§λ“¤μ–΄μ„ κ° μΈν„°νμ΄μ¤μ—μ„ μ–΄λ–¤ κµ¬ν„μ²΄λ¥Ό μ‚¬μ©ν•λ”μ§€λ¥Ό μ§€μ •ν•΄μ£Όμ.
```Java
public class AppConfig {
    public MemberService memberService() {
        return new MemberServiceImpl(memberRepository());
    }
    private static MemoryMemberRepository memberRepository() {
        return new MemoryMemberRepository();
    }
    public OrderService orderService() {
        return new OrderServiceImpl(memberRepository(), DiscountPolicy());
    }
    private static DiscountPolicy DiscountPolicy() {
        return new FixDiscountPolicy();
    }
}
```
β†’ μ΄λ°μ‹μΌλ΅ `AppConfig.java`μ—μ„λ” μΈν„°νμ΄μ¤κ°€ μ–΄λ–¤ κµ¬μ΅°μ²΄λ¥Ό μ‚¬μ©ν•λ”μ§€ λ³΄κΈ° μ‰½κ² λ‚νƒ€λ‚΄μ•Όν•λ‹¤.
β†’ κΈ°μ΅΄ `new` ν‚¤μ›λ“λ΅ ν• λ‹Ήν•΄μ£Όλ λ¶€λ¶„μ„ μƒμ„±μλ¥Ό ν†µν•΄ ν• λ‹Ήλ°›λ„λ΅ μμ •ν•κ³ , νΈμ¶ν•  λ• `AppConfig` ν΄λμ¤μ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•λ‹¤.
```Java
public static void main(String[] args) {
	AppConfig appConfig = new AppConfig();
	MemberService memberService = appConfig.memberService();
	// ...
}
```
```Java
public class MemberServiceImpl implements MemberService{
  private final MemberRepository memberRepository;
  public MemberServiceImpl(MemberRepository memberRepository) {
      this.memberRepository = memberRepository;
  }
	//...
}
```
β†’ ν…μ¤νΈ μ½”λ“λ„ @BeforeEach μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ κ° ν…μ¤νΈ μν–‰ μ „μ— AppConfigλ¥Ό ν†µν• κ°μ²΄ μ£Όμ…μ„ λ°›μ•„μ•Όν•λ‹¤.
```Java
public class MemberServiceTest {
  MemberService memberService;
  @BeforeEach
  public void beforeEach() {
      AppConfig appConfig = new AppConfig();
      memberService = appConfig.memberService();
  }
	// ... ν…μ¤νΈμ½”λ“
}
```
==**μ΄λ ‡κ² μ „μ²΄ ν”„λ΅κ·Έλ¨μ κµ¬μ„±μ„ AppConfigμ— λ¨λ‘ μ„μ„ν•λ” κ²ƒμ΄ λ§¤μ° λ§¤μ° μ¤‘μ”ν•λ‹¤**==
![](attachment/56092efb244e4be1472be0161e5ac273.png)